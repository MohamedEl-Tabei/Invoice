<div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8 ">
    <div class="d-flex my-4 align-items-center">
        <app-button-component action="back" [class]="'me-4 rounded-circle'" size="lg" (click)="back()" title="Categories" [hasIcon]="true"/>
        <h1>{{category.oldName}}</h1>
        <div class="ms-auto">
            <app-button-component  action="update" [hasIcon]="true" (click)="toggleEdit(true)"> Edit</app-button-component>
            <app-button-component  action="delete" class="ms-2" [hasIcon]="true"
                (click)="toggleDelete(true)" > Delete</app-button-component>
        </div>
    </div>

    <hr>

</div>

@if(onEdit||onDelete){
<div class="modal filter d-flex">
</div>




@if (!loaderService.isLoading()) {
<div class="modal d-flex justify-content-center align-items-center">


    @if(onEdit) {
    <div class="modal-content p-4 shadow-lg rounded">
        <div class="d-flex align-items-center mb-4 ">
            <h2 class="me-auto">Edit Category</h2>
            <app-button-component action="close" (click)="toggleEdit(false)" />
        </div>
        <form (ngSubmit)="updateCategory($event)">
            <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" id="name" class="form-control" appInput colorNumber="1" (input)="checkCategory()"
                    [(ngModel)]="category.newName" name="name" required>
            </div>

            <div class="d-flex justify-content-end">
                <app-button-component action="cancel" [type]="'button'" [class]="'me-2'"
                    (click)="toggleEdit(false)" >Cancel</app-button-component>
                <app-button-component [type]="'submit'" [disabled]="!validCategory" action="save" >Save</app-button-component>
            </div>
        </form>
    </div>
    }
    @else if(onDelete) {
    <div class="modal-content p-4 shadow-lg rounded">
        <div class="d-flex align-items-center mb-4 ">
            <h2 class="me-auto">Delete Category</h2>
            <app-button-component action="close" (click)="toggleDelete(false)" />
        </div>
        <div>
            <div class="mb-3">
                <p>This will delete {{category.oldName}}</p>
            </div>

            <div class="d-flex justify-content-end">
                <app-button-component type="button" action="cancel" [class]="'me-2'"
                    (click)="toggleDelete(false)" >Cancel</app-button-component>
                <app-button-component [type]="'submit'" action="delete" 
                    (click)="deleteCategory($event)" >Delete</app-button-component>
            </div>
        </div>
    </div>
    }

</div>
}



}

